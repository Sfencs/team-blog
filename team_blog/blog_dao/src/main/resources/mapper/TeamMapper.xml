<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.thefifth.dao.ITeamDao" >
<insert id="addTeam">
    insert into team(teamname,createtime,profile,captain_id) values (#{teamname},#{createtime},#{profile},#{captain_id})
</insert>

<insert id="applyTeam">
    insert into teamapplication(team_id,user_id,application_time,reason) values (#{team_id},#{user_id},#{application_time},#{reason})
</insert>

<select id="findAllTeam" resultType="com.thefifth.bean.Team">
    select *from team where captain_id=#{captain_id}
</select>

<insert id="invuteTeam">
    insert into teamapplication(team_id,user_id,inviter_id,application_time) values (#{team_id},#{user_id},#{inviter_id},#{application_time})
</insert>

<insert id="addTeammember">
    insert into teammember (member_id,team_id,jointime,inviter_id) values (#{member_id},#{team_id},#{jointime},#{inviter_id});
</insert>

<select id="findAllpply" resultType="com.thefifth.bean.TeamApplication">
    select *from teamapplication where team_id=#{team_id}
</select>

<select id="findAllTeammember" resultType="com.thefifth.bean.TeamMember">
    select * from teammembeer where team_id=#{team_id};
</select>

<update id="updateUserTag">
    update teammember set tag=#{tag} where team_id=#{team_id} and user_id=#{user_id}
</update>

<delete id="deleteAllTeammember">
    delete from teammember where team_id=#{team_id}
</delete>

<delete id="deleteAllTeamapplication">
    delete from teamapplication where team_id=#{team_id}
</delete>

<delete id="deleteTeam">
    delete from team where team_id=#{team_id}
</delete>

</mapper>